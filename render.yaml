services:
  - type: web
    name: pravado-api-staging
    runtime: node
    region: oregon
    plan: starter
    branch: main
    healthCheckPath: /health/live
    buildCommand: npm install -g pnpm && pnpm install --prod=false && pnpm build
    startCommand: node --import tsx apps/api/dist/index.js
    envVars:
      - key: NODE_VERSION
        value: "20"
      - key: NODE_ENV
        value: production
      - key: API_HOST
        value: "0.0.0.0"
      - key: API_PORT
        value: "10000"
